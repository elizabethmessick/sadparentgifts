{% extends 'base.html' %}
{% block content %}
<div class="card">
    <img src="{{gift.photo_url}}" class="detail-photo">
    <div id="card-content">
        <a href="{% url 'profile' gift.user.id %}">@{{ gift.user.username }}</a>
        {% ifequal gift.user user %}
        <a href="{% url 'gifts_update' gift.id %}">Edit</a>
        <a href="{% url 'gifts_delete' gift.id %}">Delete</a>
        {% endifequal %}
        <span class="card-title">{{ gift.description }}</span>
        {% for comment in gift.comment_set.all %}
        <div id="comment-form">
            <p>{{comment.user.username}}: {{comment.text}}</p>
            {% ifequal comment.user user %}
            <p><a href="{% url 'delete_comment' comment.id %}">Delete</a></p>
            <p><a href="{% url 'update_comment' comment.id %}">Edit</a></p>
            {% endifequal %}
            {% endfor %}
            <form action="{% url 'add_comment' gift.id %}" method="POST">
                {% csrf_token %}
                {{ comment_form.as_p }}
                <input type="submit" class="btn" value="Comment">
            </form>
        </div>
    </div>
</div>
{% endblock %}